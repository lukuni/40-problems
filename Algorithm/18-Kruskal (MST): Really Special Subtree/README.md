## Бодлогын өгүүлбэр (Монгол)

Чиглэлгүй жигнэсэн холбогдсон график өгөгдсөн бол дотроос үнэхээр онцгой дэд модыг ол. Үнэхээр онцгой дэд модыг графикийн бүх зангилаанаас бүрдэх дэд график гэж тодорхойлдог ба:
Зангилаанаас бусад зангилаа болгонд хүрэх цорын ганц зам байдаг.
Дэд график нь ийм бүх дэд графикуудын дунд хамгийн бага жин (бүх ирмэгүүдийн нийлбэр) байна.
Цикл үүсдэггүй
Үнэхээр онцгой дэд модыг үүсгэхийн тулд хамгийн бага жинтэй ирмэгийг сонгох хэрэгтэй. Үүнийг оруулах нь мөчлөг үүсгэх эсэхийг тодорхойл. Хэрэв тийм бол ирмэгийг үл тоомсорло. Хэрэв ижил жинтэй ирмэгүүд байгаа бол:
Орой болон ирмэгийн жин болох нийлбэрийг багасгах ирмэгийг сонгоно уу.
Хэрэв мөргөлдөөн байгаа бол тэдгээрийн аль нэгийг нь сонгоно уу.
Дүрмийг ашиглан үүссэн модны нийт жинг хэвлэ.
Жишээлбэл, дараах ирмэгүүдийг өгөв.
u v wt
1 2 2
2 3 3
3 1 5
Эхлээд жингээ сонго. Дараа нь жинг сонго. Бүх зангилаа нь нийт жингийн хувьд мөчлөггүйгээр холбогдсон байна.
Функцийн тодорхойлолт
Доорх засварлагчийн функцийг гүйцээнэ үү. Энэ нь үүссэн дэд модны нийт жинг илэрхийлэх бүхэл тоог буцаах ёстой.
kruskals нь дараах параметрүүдийг агуулна.
g_nodes: модны зангилааны тоог илэрхийлэх бүхэл тоо
g_from: эхлэл ирмэгийн зангилааны дугаарыг илэрхийлэх бүхэл тоонуудын массив
g_to: төгсгөлийн ирмэгийн зангилааны дугаарыг илэрхийлэх бүхэл тоонуудын массив
g_weight: ирмэг бүрийн жинг илэрхийлэх бүхэл тоонуудын массив
Оролтын формат
Эхний мөрөнд зайгаар тусгаарлагдсан хоёр бүхэл тоо, график дахь зангилаа ба ирмэгийн тоо байна.
Дараагийн мөрүүд тус бүр нь зайгаар тусгаарлагдсан гурван бүхэл тооноос бүрдэх ба , энд нь чиглүүлээгүй ирмэг байгаа хоёр зангилааг илэрхийлж, тухайн ирмэгийн жинг илэрхийлнэ.
Хязгаарлалт




**Тэмдэглэл: ** Хэрэв өөр өөр жинтэй ижил хос зангилааны хооронд ирмэг байгаа бол тэдгээрийг олон ирмэг шиг байгаагаар нь авч үзнэ.
Гаралтын формат
Үнэхээр онцгой дэд модны нийт жинг илэрхийлэх нэг бүхэл тоог хэвлэ.
Жишээ оролт 1
Хуулбар татаж авах
Чиглэлгүй жинлэсэн график: g
1
2
5
3
3
4
7
4
5
6


4 6
1 2 5
1 3 3
4 1 6
2 4 7
3 2 4
3 4 5
Жишээ гаралт 1
12
Тайлбар 1
Туршилтын тохиолдолд өгөгдсөн графикийг дээр үзүүлэв.
Kruskal-ийн алгоритмыг ашигласнаар бүх ирмэгийг жингийн өсөх дарааллаар эрэмбэлсэн.
Эрэмбэлэсний дараа захын сонголтуудыг дараах байдлаар авах боломжтой. 
болон
Цикл үүсгэхгүйгээр хамгийн бага жинтэй тул 2 \rightarrow 3 (w=4)$-г сонгоно уу
Ирмэг нь мөчлөг үүсгэх тул үүнийг үл тоомсорлодог
Нийт жинг өгөх MST-ийг дуусгахын тулд сонгоно уу
зураг
Жишээ оролт 2
Хуулбар татаж авах
Чиглэлгүй жинлэсэн график: g
1
2
20
3
50
4
70
5
90
30
40
60


5 7
1 2 20
1 3 50
1 4 70
1 5 90
2 3 30
3 4 40
4 5 60
Жишээ гаралт 2
150
Тайлбар 2
Дээрх графикийг харгалзан ирмэгийг жингээр нь сонгоно уу.





## Холбоос

https://www.hackerrank.com/challenges/kruskalmstrsub/problem?isFullScreen=true




## Нотолгоо, тайлбар

 Зорилго:

Undirected weighted connected graph өгөгдсөн. Энэхүү графын **“Really Special SubTree”**-г олох ёстой. Энэ нь:

* Графын бүх `n` оройг (node) хамарсан,
* `n - 1` ирмэг (edge)-тэй,
* Цикл үүсгэхгүй (cycle байхгүй),
* Бүх оройн хооронд **ганц замтай**,
* Мөн нийт ирмэгийн жин (weight)-ийг **хамгийн бага** байлгах ёстой.

 Ашигласан алгоритм: **Kruskal’s Algorithm**

* Энэ алгоритм нь **жингийнх нь дарааллаар** ирмэгүүдийг шалгаж,
* Хоёр оройг холбох нь **цикл** үүсгэж байгаа эсэхийг шалгадаг.
* Цикл үүсгэхгүй бол тэр ирмэгийг сонгож авдаг.
* Эцэст нь **`n - 1` ирмэг** авмагц дуусна.

---

Алгоритмын алхамууд

###- Алхам 1: Ирмэгүүдийг ангилах

Бүх ирмэгийг дараах дарааллаар **сортлох**:

1. Жин (weight)-ээр өсөхөөр
2. Хэрвээ жин нь тэнцүү бол `u + v + weight` утгаараа өсөхөөр (даалгаврын тусгай нөхцөл)

###- Алхам 2: Disjoint Set Union (DSU) буюу Union-Find ашиглах

* Эхлээд бүх орой өөр өөр “бүлэгт” орно.
* Хэрэв хоёр орой өөр бүлэгт байвал тэднийг нэгтгэж, ирмэгийг сонгоно.
* Хэрэв аль хэдийнэ ижил бүлэгт байвал —> **циклийг үүсгэнэ** гэдэг нь учир —> тэр ирмэгийг **алгасна**.

###- Алхам 3: Ирмэгүүдийг сонгож, нийт жинг нэмэх

* Сонгогдсон ирмэгүүдийн нийт жинг `totalWeight` хувьсагчид нэмнэ.
* Хэрвээ `n - 1` ирмэгийг сонгосон бол —> **мод бүрэн болсон** гэж үзнэ.

---

##- Жишээ:

 Input:

```
4 6
1 2 5
1 3 3
4 1 6
2 4 7
3 2 4
3 4 5
```

 Ирмэгүүдийг жингээр эрэмбэлбэл:

```
1-3 (3)
3-2 (4)
1-2 (5)
3-4 (5)
1-4 (6)
2-4 (7)
```

Сонголт:

1. Сонгоно: **1–3 (3)** –> OK
2. Сонгоно: **3–2 (4)** –> OK
3. Сонгоно: **1–2 (5)** –> Цикл үүсгэнэ —> **алгасна**
4. Сонгоно: **3–4 (5)** –> OK
   ➡️ 3 ирмэг сонгогдсон, 4 оройтой бол `n - 1 = 3` ирмэгтэй байх тул дууслаа.

Total weight:

```
3 + 4 + 5 = 12
```

---

 Дүгнэлт:

| Тайлбар                   | Утга                                                              |
| ------------------------- | ----------------------------------------------------------------- |
| Графын төрлүүд            | Холбогдсон (connected), жинтэй (weighted), чиглэлгүй (undirected) |
| Алгоритм                  | Kruskal’s Algorithm                                               |
| Дээрэмж сонголтын шалгуур | Жингийн дарааллаар, дараа нь `u+v+weight`                         |
| Нотолгоо                  | Минимум жингийн модны шинж чанаруудыг хангаж байгаа               |
| Циклээс зайлсхийх         | Union-Find (DSU) ашигласан                                        |
| Гарчиг                    | Really Special SubTree (MST)                                      |
| Үр дүн                    | Сонгогдсон ирмэгүүдийн нийт жин                                   |

