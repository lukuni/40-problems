## –ë–æ–¥–ª–æ–≥—ã–Ω ”©–≥“Ø“Ø–ª–±—ç—Ä (–ú–æ–Ω–≥–æ–ª)

AVL –º–æ–¥ (–ì–µ–æ—Ä–≥–∏–π –ê–¥–µ–ª—å—Å–æ–Ω-–í–µ–ª—å—Å–∫–∏–π, –õ—ç–Ω–¥–∏—Å –Ω–∞—Ä—ã–Ω –º–æ–¥, –∑–æ—Ö–∏–æ–Ω –±“Ø—Ç—ç—ç–≥—á–¥–∏–π–Ω –Ω—ç—Ä—ç—ç—Ä –Ω—ç—Ä–ª—ç–≥–¥—Å—ç–Ω) –Ω—å ”©”©—Ä–∏–π–≥”©”© —Ç—ç–Ω—Ü–≤—ç—Ä–∂“Ø“Ø–ª–¥—ç–≥ —Ö–æ—ë—Ä—Ç—ã–Ω —Ö–∞–π–ª—Ç—ã–Ω –º–æ–¥ —é–º. AVL –º–æ–¥–æ–Ω–¥ –∞–ª–∏–≤–∞–∞ –∑–∞–Ω–≥–∏–ª–∞–∞–Ω—ã —Ö–æ—ë—Ä —Ö“Ø“Ø—Ö–¥–∏–π–Ω –¥—ç–¥ –º–æ–¥–Ω—ã ”©–Ω–¥”©—Ä –Ω—å —Ö–∞–º–≥–∏–π–Ω –∏—Ö–¥—ç—ç –Ω—ç–≥—ç—ç—Ä —è–ª–≥–∞–∞—Ç–∞–π –±–∞–π–¥–∞–≥; —Ö—ç—Ä—ç–≤ —Ç—ç–¥ –Ω—ç–≥—ç—ç—Å –∏–ª“Ø“Ø –∑”©—Ä“Ø“Ø—Ç—ç–π –±–∞–π–≤–∞–ª —ç–Ω—ç ”©–º—á–∏–π–≥ —Å—ç—Ä–≥—ç—ç—Ö–∏–π–Ω —Ç—É–ª–¥ –¥–∞—Ö–∏–Ω —Ç—ç–Ω—Ü–≤—ç—Ä–∂“Ø“Ø–ª–Ω—ç.
–ë–∏–¥ –∑–∞–Ω–≥–∏–ª–∞–∞ —Ç—É—Å –±“Ø—Ä–∏–π–Ω —Ç—ç–Ω—Ü–≤—ç—Ä–∏–π–Ω —Ö“Ø—á–∏–Ω –∑“Ø–π–ª–∏–π–≥ –¥–∞—Ä–∞–∞—Ö –±–∞–π–¥–ª–∞–∞—Ä —Ç–æ–¥–æ—Ä—Ö–æ–π–ª–¥–æ–≥.
BalansFactor = ”©–Ω–¥”©—Ä (–∑“Ø“Ø–Ω –¥—ç–¥ –º–æ–¥) - ”©–Ω–¥”©—Ä (–±–∞—Ä—É—É–Ω –¥—ç–¥ –º–æ–¥)
AVL –º–æ–¥–Ω—ã –∞–ª—å —á –∑–∞–Ω–≥–∏–ª–∞–∞–Ω—ã —Ç—ç–Ω—Ü–≤—ç—Ä–∏–π–Ω –∫–æ—ç—Ñ—Ñ–∏—Ü–∏–µ–Ω—Ç –Ω—å –±“Ø—Ö—ç–ª —Ç–æ–æ–Ω—ã –º—É–∂–∏–¥ [-1,+1] –±–∞–π–Ω–∞. –•—ç—Ä—ç–≤ –º–æ–¥–æ–Ω–¥ —è–º–∞—Ä –Ω—ç–≥—ç–Ω ”©”©—Ä—á–ª”©–ª—Ç –æ—Ä—É—É–ª—Å–Ω—ã –¥–∞—Ä–∞–∞ –±–∞–ª–∞–Ω—Å—ã–Ω —Ö“Ø—á–∏–Ω –∑“Ø–π–ª ‚àí1-—ç—ç—Å –±–∞–≥–∞ —ç—Å–≤—ç–ª +1-—ç—ç—Å –∏—Ö –±–∞–π–≤–∞–ª —ç–Ω—ç –∑–∞–Ω–≥–∏–ª–∞–∞–Ω—ã “Ø–Ω–¥—Å—ç–Ω –¥—ç–¥ –º–æ–¥ —Ç—ç–Ω—Ü–≤—ç—Ä–≥“Ø–π –±–æ–ª–∂, —ç—Ä–≥“Ø“Ø–ª—ç—Ö —à–∞–∞—Ä–¥–ª–∞–≥–∞—Ç–∞–π –±–æ–ª–Ω–æ.
AVL_Tree_Rebalancing.svg.png
(https://en.wikipedia.org/wiki/AVL_tree)
–¢–∞–Ω–¥ AVL –º–æ–¥–Ω—ã “Ø–Ω–¥—ç—Å —Ä“Ø“Ø –∑–∞–∞–≥—á ”©–≥–Ω”©. –¢–∞ —ç–Ω—ç –º–æ–¥–æ–Ω–¥ —É—Ç–≥—ã–≥ –æ—Ä—É—É–ª–∂, —Ç—ç–Ω—Ü–≤—ç—Ä—Ç—ç–π –±–∞–π–ª–≥–∞—Ö—ã–Ω —Ç—É–ª–¥ —à–∞–∞—Ä–¥–ª–∞–≥–∞—Ç–∞–π —ç—Ä–≥—ç–ª—Ç“Ø“Ø–¥–∏–π–≥ —Ö–∏–π—Ö —Ö—ç—Ä—ç–≥—Ç—ç–π.
–û—Ä–æ–ª—Ç—ã–Ω —Ñ–æ—Ä–º–∞—Ç
–¢–∞–Ω–¥ —Ñ—É–Ω–∫—Ü ”©–≥”©–≥–¥—Å”©–Ω,
–∑–∞–Ω–≥–∏–ª–∞–∞ * –æ—Ä—É—É–ª–∞—Ö (–∑–∞–Ω–≥–∏–ª–∞–∞ * root, int new_val)
{


}
"–∑–∞–Ω–≥–∏–ª–∞–∞" –Ω—å –¥–∞—Ä–∞–∞—Ö –±–∞–π–¥–ª–∞–∞—Ä —Ç–æ–¥–æ—Ä—Ö–æ–π–ª–æ–≥–¥–¥–æ–≥.
–±“Ø—Ç—Ü–∏–π–Ω –∑–∞–Ω–≥–∏–ª–∞–∞
{
int val; // “Ø–Ω—ç —Ü—ç–Ω—ç
–±“Ø—Ç—Ü–∏–π–Ω –∑–∞–Ω–≥–∏–ª–∞–∞* –∑“Ø“Ø–Ω; // –∑“Ø“Ø–Ω —Ö“Ø“Ø—Ö—ç–¥
–±“Ø—Ç—Ü–∏–π–Ω –∑–∞–Ω–≥–∏–ª–∞–∞* –±–∞—Ä—É—É–Ω; // –∑”©–≤ —Ö“Ø“Ø—Ö—ç–¥
int ht; // –∑–∞–Ω–≥–∏–ª–∞–∞–Ω—ã ”©–Ω–¥”©—Ä
} –∑–∞–Ω–≥–∏–ª–∞–∞;
–¢–∞ –∑”©–≤—Ö”©–Ω —Ñ—É–Ω–∫—Ü–∏–π–≥ –¥—É—É—Å–≥–∞—Ö —Ö—ç—Ä—ç–≥—Ç—ç–π.
–¢–∞–π–ª–±–∞—Ä: –ú–æ–¥–Ω—ã –±“Ø—Ö —É—Ç–≥—É—É–¥ —è–ª–≥–∞–∞—Ç–∞–π –±–∞–π—Ö –±–æ–ª–Ω–æ. Null –∑–∞–Ω–≥–∏–ª–∞–∞–Ω—ã ”©–Ω–¥”©—Ä –Ω—å -1, –Ω–∞–≤—á–Ω—ã –∑–∞–Ω–≥–∏–ª–∞–∞–Ω—ã ”©–Ω–¥”©—Ä –Ω—å 0 –±–∞–π–Ω–∞.

–ì–∞—Ä–∞–ª—Ç—ã–Ω —Ñ–æ—Ä–º–∞—Ç
–ú–æ–¥–æ–Ω–¥ —à–∏–Ω—ç —É—Ç–≥—ã–≥ –æ—Ä—É—É–ª–∞–∞–¥ –º–æ–¥–Ω—ã “Ø–Ω–¥—ç—Å —Ä“Ø“Ø –∑–∞–∞–≥—á–∏–π–≥ –±—É—Ü–∞–∞–Ω–∞. –ú–æ–¥ –Ω—å —Ç—ç–Ω—Ü–≤—ç—Ä—Ç—ç–π —Ö—ç–≤—ç—ç—Ä –±–∞–π–≥–∞–∞ —ç—Å—ç—Ö–∏–π–≥ —à–∞–ª–≥–∞–∞—Ä–∞–π.
–ñ–∏—à—ç—ç –æ—Ä–æ–ª—Ç 
3 
/ \ 
2 4 
\ 
5
–û—Ä—É—É–ª–∞—Ö —É—Ç–≥–∞ –Ω—å 6 –±–∞–π–Ω–∞.
–ñ–∏—à—ç—ç –≥–∞—Ä–∞–ª—Ç 
3 
/ \ 
2 5 
/ \ 
4 6
–¢–∞–π–ª–±–∞—Ä
–ú–æ–¥–æ–Ω–¥ 6 –æ—Ä—É—É–ª—Å–Ω—ã –¥–∞—Ä–∞–∞. –º–æ–¥ –±–æ–ª–∂ –±–∞–π–Ω–∞: 
3 (–¢—ç–Ω—Ü–≤—ç—Ä–∏–π–Ω —Ö“Ø—á–∏–Ω –∑“Ø–π–ª = -2) 
/ \ 
2 4 (–¢—ç–Ω—Ü–≤—ç—Ä–∏–π–Ω —Ö“Ø—á–∏–Ω –∑“Ø–π–ª = -2) 
\ 
5 (–¢—ç–Ω—Ü–≤—ç—Ä–∏–π–Ω —Ö“Ø—á–∏–Ω –∑“Ø–π–ª = -1) 
\ 
6 (–¢—ç–Ω—Ü–≤—ç—Ä–∏–π–Ω —Ö“Ø—á–∏–Ω –∑“Ø–π–ª = 0)
3 –±–∞ 4-—Ä –∑–∞–Ω–≥–∏–ª–∞–∞–Ω—ã —Ç—ç–Ω—Ü–≤—ç—Ä–∏–π–Ω –∫–æ—ç—Ñ—Ñ–∏—Ü–∏–µ–Ω—Ç [-1,1] –º—É–∂–∏–¥ –±–∞–π—Ö–∞–∞ –±–æ–ª—å—Å–æ–Ω. –ú–æ–¥—ã–≥ —Ç—ç–Ω—Ü–≤—ç—Ä–∂“Ø“Ø–ª—ç—Ö–∏–π–Ω —Ç—É–ª–¥ –±–∏–¥ —ç—Ä–≥—ç–ª—Ç —Ö–∏–π—Ö —Ö—ç—Ä—ç–≥—Ç—ç–π. –≠–Ω—ç –±–æ–ª –∑”©–≤ —Ç–æ—Ö–∏–æ–ª–¥–æ–ª —é–º. –ë–∏–¥ –º–æ–¥—ã–≥ —Ç—ç–Ω—Ü–≤—ç—Ä–∂“Ø“Ø–ª—ç—Ö–∏–π–Ω —Ç—É–ª–¥ –Ω—ç–≥ —ç—Ä–≥—ç–ª—Ç–∏–π–≥ –≥“Ø–π—Ü—ç—Ç–≥—ç–¥—ç–≥.
–≠—Ä–≥“Ø“Ø–ª—ç–ª—Ç–∏–π–≥ —Ö–∏–π—Å–Ω–∏–π –¥–∞—Ä–∞–∞ –º–æ–¥ –¥–∞—Ä–∞–∞—Ö –±–∞–π–¥–∞–ª—Ç–∞–π –±–æ–ª–Ω–æ. 
3 (–¢—ç–Ω—Ü–≤—ç—Ä–∏–π–Ω —Ö“Ø—á–∏–Ω –∑“Ø–π–ª = -1) 
/ \ 
(–¢—ç–Ω—Ü–≤—ç—Ä–∏–π–Ω —Ö“Ø—á–∏–Ω –∑“Ø–π–ª = 0) 2 5 (–¢—ç–Ω—Ü–≤—ç—Ä–∏–π–Ω —Ö“Ø—á–∏–Ω –∑“Ø–π–ª = 0) 
/ \ 
(–¢—ç–Ω—Ü–≤—ç—Ä–∏–π–Ω —Ö“Ø—á–∏–Ω –∑“Ø–π–ª = 0)4 6 (–¢—ç–Ω—Ü–≤—ç—Ä–∏–π–Ω —Ö“Ø—á–∏–Ω –∑“Ø–π–ª = 0)



## –•–æ–ª–±–æ–æ—Å

https://www.hackerrank.com/challenges/self-balancing-tree/problem?isFullScreen=true





## –ù–æ—Ç–æ–ª–≥–æ–æ, —Ç–∞–π–ª–±–∞—Ä


AVL –º–æ–¥–Ω—ã insert —Ñ—É–Ω–∫—Ü–∏–π–Ω –Ω–æ—Ç–æ–ª–≥–æ–æ —Ç–∞–π–ª–±–∞—Ä

public static Node insert(Node root, int val)
 “Æ“Ø—Ä—ç–≥:

insert —Ñ—É–Ω–∫—Ü –Ω—å —à–∏–Ω—ç val —É—Ç–≥—ã–≥ AVL –º–æ–¥–æ–Ω–¥ –Ω—ç–º—ç—Ö –±”©–≥”©”©–¥ –Ω—ç–º—Å—ç–Ω–∏–π –¥–∞—Ä–∞–∞ –º–æ–¥–Ω—ã —Ç—ç–Ω—Ü–≤—ç—Ä—Ç—ç–π –±–∞–π–¥–∞–ª (–±–∞–ª–∞–Ω—Å) –∞–ª–¥–∞–≥–¥—Å–∞–Ω –±–æ–ª —Ç–æ—Ö–∏—Ä–æ—Ö —ç—Ä–≥“Ø“Ø–ª—ç–ª—Ç (rotation) —Ö–∏–π–∂, —Ç—ç–Ω—Ü–≤—ç—Ä—Ç—ç–π –±–æ–ª–≥–æ–¥–æ–≥.

 –ê–ª—Ö–∞–º –∞–ª—Ö–º–∞–∞—Ä —Ç–∞–π–ª–±–∞—Ä:

1. –°—É—É—Ä—å –Ω”©—Ö—Ü”©–ª ‚Äì —Ö–æ–æ—Å–æ–Ω –º–æ–¥

if (root == null) {
    Node newNode = new Node();
    newNode.val = val;
    newNode.ht = 0;
    return newNode;
}
–•—ç—Ä–≤—ç—ç root null –±–æ–ª —à–∏–Ω—ç –∑–∞–Ω–≥–∏–ª–∞–∞ “Ø“Ø—Å–≥—ç—ç–¥ –±—É—Ü–∞–∞–Ω–∞.

–®–∏–Ω—ç –∑–∞–Ω–≥–∏–ª–∞–∞–Ω—ã ”©–Ω–¥”©—Ä (height) –Ω—å 0 –±–∞–π–Ω–∞ (–Ω–∞–≤—á node).

2. –ó–∞—Ä—á–º—ã–Ω –¥–∞–≥—É—É —É—Ç–≥—ã–≥ –±–∞–π—Ä–ª—É—É–ª–∞—Ö

if (val < root.val)
    root.left = insert(root.left, val);
else if (val > root.val)
    root.right = insert(root.right, val);
–£—Ç–≥–∞ root.val-–∞–∞—Å –±–∞–≥–∞ –±–æ–ª –∑“Ø“Ø–Ω —Ç–∏–π—à, –∏—Ö –±–æ–ª –±–∞—Ä—É—É–Ω —Ç–∏–π—à –º–æ–¥–æ–Ω–¥ —Ä–µ–∫—É—Ä—Å–∏–≤—ç—ç—Ä –Ω—ç–º–Ω—ç.

3. ”®–Ω–¥—Ä–∏–π–Ω —à–∏–Ω—ç—á–ª—ç–ª—Ç

updateHeight(root);
–•“Ø“Ø—Ö—ç–¥ node-—É—É–¥—ã–Ω ”©–Ω–¥”©—Ä –¥—ç—ç—Ä “Ø–Ω–¥—ç—Å–ª—ç–Ω —Ç—É—Ö–∞–π–Ω node-—ã–Ω ”©–Ω–¥—Ä–∏–π–≥ —à–∏–Ω—ç—á–∏–ª–Ω—ç.

4. –¢—ç–Ω—Ü–≤—ç—Ä–∏–π–Ω —à–∞–ª–≥–∞–ª—Ç

int balance = getBalance(root);
–¢—ç–Ω—Ü–≤—ç—Ä–∏–π–Ω —Ö“Ø—á–∏–Ω –∑“Ø–π–ª (balance factor) = –∑“Ø“Ø–Ω ”©–Ω–¥”©—Ä - –±–∞—Ä—É—É–Ω ”©–Ω–¥”©—Ä.

AVL –º–æ–¥–Ω—ã —Ö—É–≤—å–¥ –∑”©–≤—à”©”©—Ä”©–≥–¥”©—Ö —É—Ç–≥–∞ –Ω—å [-1, 0, +1].

5. –¢—ç–Ω—Ü–≤—ç—Ä—Ç –±—É—Å —Ç–æ—Ö–∏–æ–ª–¥–ª—É—É–¥ –±–∞ —à–∏–π–¥—ç–ª

‚ö†Ô∏è Left-Left (LL) –∫–µ–π—Å

if (balance > 1 && val < root.left.val)
    return rotateRight(root);
–®–∏–Ω—ç —É—Ç–≥–∞ –∑“Ø“Ø–Ω —Ö“Ø“Ø–¥ –Ω—ç–º—ç–≥–¥—Å—ç–Ω, –∑“Ø“Ø–Ω —Ç–∞–ª –Ω—å —Ö—ç—Ç —Ç–æ–º –±–æ–ª—Å–æ–Ω.

‚ö†Ô∏è Right-Right (RR) –∫–µ–π—Å

if (balance < -1 && val > root.right.val)
    return rotateLeft(root);
–®–∏–Ω—ç —É—Ç–≥–∞ –±–∞—Ä—É—É–Ω —Ö“Ø“Ø–¥ –Ω—ç–º—ç–≥–¥—Å—ç–Ω, –±–∞—Ä—É—É–Ω —Ç–∞–ª –Ω—å —Ö—ç—Ç —Ç–æ–º –±–æ–ª—Å–æ–Ω.

‚ö†Ô∏è Left-Right (LR) –∫–µ–π—Å

if (balance > 1 && root.left != null && val > root.left.val) {
    root.left = rotateLeft(root.left);
    return rotateRight(root);
}
–®–∏–Ω—ç —É—Ç–≥–∞ –∑“Ø“Ø–Ω —Ö“Ø“Ø–¥–∏–π–Ω –±–∞—Ä—É—É–Ω —Ç–∞–ª–¥ –Ω—ç–º—ç–≥–¥—Å—ç–Ω.

–≠—Ö–ª—ç—ç–¥ –∑“Ø“Ø–Ω–¥ rotateLeft, –¥–∞—Ä–∞–∞ –Ω—å –¥—ç—ç—Ä rotateRight.

‚ö†Ô∏è Right-Left (RL) –∫–µ–π—Å

if (balance < -1 && root.right != null && val < root.right.val) {
    root.right = rotateRight(root.right);
    return rotateLeft(root);
}
–®–∏–Ω—ç —É—Ç–≥–∞ –±–∞—Ä—É—É–Ω —Ö“Ø“Ø–¥–∏–π–Ω –∑“Ø“Ø–Ω —Ç–∞–ª–¥ –Ω—ç–º—ç–≥–¥—Å—ç–Ω.

–≠—Ö–ª—ç—ç–¥ –±–∞—Ä—É—É–Ω–¥ rotateRight, –¥–∞—Ä–∞–∞ –Ω—å –¥—ç—ç—Ä rotateLeft.

return root;
–ú–æ–¥—ã–≥ (—ç—Å–≤—ç–ª –¥—ç–¥ –º–æ–¥—ã–≥) —à–∏–Ω—ç—á–ª—ç–≥–¥—Å—ç–Ω –±–∞–π–¥–ª–∞–∞—Ä –±—É—Ü–∞–∞–Ω–∞.

üìé –î“Ø–≥–Ω—ç–ª—Ç:

–≠–Ω—ç –∞–ª–≥–æ—Ä–∏—Ç–º –Ω—å –Ω—ç–≥ —à–∞—Ç–∞–ª—Å–∞–Ω —Ä–µ–∫—É—Ä—Å –∞—à–∏–≥–ª–∞–Ω —É—Ç–≥—ã–≥ –æ—Ä—É—É–ª–∂, —ç—Ä–≥“Ø“Ø–ª—ç–ª—Ç —Ö–∏–π–∂ –º–æ–¥–Ω—ã —Ç—ç–Ω—Ü–≤—ç—Ä–∏–π–≥ —Ö–∞–¥–≥–∞–ª–Ω–∞.

–ú–æ–¥–æ–Ω–¥ –Ω—ç–º—ç—Ö –±“Ø—Ä–¥ —Ü–∞–≥–∏–π–Ω —Ç”©–≤”©–≥—à–∏–ª O(log n) —Ö—ç–≤—ç—ç—Ä –±–∞–π–Ω–∞.

–≠–¥–≥—ç—ç—Ä 4 —ç—Ä–≥“Ø“Ø–ª—ç–ª—Ç (LL, RR, LR, RL) –Ω—å AVL –º–æ–¥—ã–≥ ”©”©—Ä”©”© —Ç—ç–Ω—Ü–≤—ç—Ä–∂“Ø“Ø–ª—ç—Ö –º–µ—Ö–∞–Ω–∏–∑–º —é–º.